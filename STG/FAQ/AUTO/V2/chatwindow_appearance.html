<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JP STG Site PEP FAQ</title>
    <script src="https://faq.stg.resola.net/api/chatbox?appid=96cf4d67693d4ebb838fcfeaed146969" type="text/javascript"></script>
    <script>var synalytics=function(){var e,t,n,r="n-analytics.io",a="Nanalytics";((e=window).NanalyticsObject=a)in e||(e[a]=function(){(e[a].q=e[a].q||[]).push(arguments)},e[a].ep=r),t=e.document.getElementsByTagName("script")[0],(n=e.document.createElement("script")).type="text/javascript",n.async=!0,n.src="https://sdk."+r+"/v1/web.js?sid="+1e17*Math.random(),t.parentNode.insertBefore(n,t);var i="https://synaliofaq.stg.resola.net".replace("https://","").replace("http://",""),s="_rslgvry",o="_rslgvry_conv_cnt",c="r_window",u=/^((?!chrome|android|crios).)*safari/i.test(navigator.userAgent),f="*",d=!1;function l(e){var t=null,n=e+"=",r=document.cookie,a=r.indexOf(n);if(-1!=a){var i=a+n.length,s=r.indexOf(";",i);-1==s&&(s=r.length),t=decodeURIComponent(r.substring(i,s))}return t}function $(){return u?localStorage.getItem(s):l(s)}function p(e,t,n,r,a){var i=t+"="+n+";max-age="+(r||63072e3)+";path=/;";if(a){e.cookie=i;return}if(p.domain)e.cookie=i+"domain=."+p.domain;else{var s=location.hostname.split(".");s.length>2&&s.shift(),p.domain=s.join("."),e.cookie=i+"domain=."+p.domain,l(t)!=n&&(p.domain=location.hostname,e.cookie=i+"domain=."+p.domain)}}function g(e){u?localStorage.setItem(s,e):p(document,s,e,63072e3)}var v,x=(v=$(),!v&&g(v="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),v);function h(e,t){var n=window.navigator,r=new Date,a=r.getHours()+Math.floor((r.getMinutes()+t)/60);return function e(t){var n,r=1;if(t)for(r=0,n=t.length-1;0<=n;n--){var a=t.charCodeAt(n);r=0!=(a=266338304&(r=(r<<6&268435455)+a+(a<<14)))?r^a>>21:r}return r}([e,n.userAgent,n.language||"",r.getTimezoneOffset(),r.getYear(),r.getDate()+Math.floor(a/24),(24+a)%24,(60+r.getMinutes()+t)%60,].join("."))}function m(e,t,n,r){e.addEventListener(t,n,!!r)}function _(e,t){if(t.indexOf(i)>=0)return!0;if(0==t.indexOf(document.location.hostname)||0==document.location.hostname.indexOf(t))return!1;e=e.split(",");for(var n=0;n<e.length;n++)if(e[n]instanceof RegExp){if(e[n].test(t))return!0}else if(t===e[n].trim().replace("https://","").replace("http://",""))return!0;return!1}function y(e){if(e&&"undefined"!==e)return decodeURIComponent(e)}function k(e){if(e&&"undefined"!==e)return/^\d+$/.exec(e)?Number(e):void 0}function b(e,t){var n=t;if(n||(n=$()),!n)return e;var r=/(.*)([?&#])(?:_sy=[^&#]*)(?:&?)(.*)/.exec(e);r&&r.length>=3&&(e=r[1]+(r[3]?r[2]+r[3]:""));var a=0,i=l(c);null!=i&&void 0!=i&&(a="on"===i?1:2);var s=n+"."+a;if(window.Nanalytics){var o,u=(o={},document.cookie.split(/\s*;\s*/).forEach(function(e){var t=e.split("="),n=t[0].trim(),r=t[1],a="__na_";switch(n){case a+"s_i":o.si=y(r);break;case a+"s_t":o.sst=k(r);break;case a+"s_n":o.sn=k(r);break;case a+"u_i":o.uid=y(r);break;case a+"c_s":o.src=y(r);break;case a+"c_m":o.md=y(r);break;case a+"c_c":o.cp=y(r);break;case a+"c_k":o.kw=y(r)}}),o);s=s+"."+["uid","si","sst","sn"].map(function(e){return u[e]||""}).join("_")}var f="_sy="+h(s,0)+"."+s,d=e.indexOf("?");r=e.indexOf("#");var p=-1==d?"?":"&";return(e=-1==r?e+(p+f):e.substring(0,r)+p+f+e.substring(r)).replace(/&+_sy=/,"&_sy=")}function O(e){("http:"==e.protocol||"https:"==e.protocol)&&_(f,e.hostname||"")&&e.href&&(e.href=b(e.href))}function w(e){try{for(var t=(e=e||window.event).target||e.srcElement,n={},r=100;t&&0<r;){if(t.href&&t.nodeName.match(/^a(?:rea)?$/i)){n=t;break}t=t.parentNode,r--}O(n)}catch(a){console.error(a)}}function N(e){var t,n=(t=e,(t=t.match(/(?:&|#|\\?)_sy=([^&#]*)/))&&2==t.length?t[1]:"");if(!n)return!1;var r=n.indexOf("."),a=n.substring(0,r),i=n.substring(r+1);if(!a||!i||!(a==h(i,0)||a==h(i,-1)||a==h(i,-2)))return!1;r=i.indexOf(".");var s=i.substring(0,r);g(s),x=s;var o=i.substring(r+1);r=o.indexOf(".");var u=o.substring(0,r);return("1"===u||"2"===u)&&p(document,c,"1"===u?"on":"off",1800),!function e(t){var n=t.split("_"),r=2,a=r+1;if(n.length!=a+1){console.warn("Invalid parameter length:",n.length);return}var i=new Date().getTime(),s=location.hostname,o=location.href,c=document,u="__na_";p(c,u+"u_i",n[0],0,s),p(c,u+"s_i",n[1],0,s),p(c,u+"s_t",n[r],0,s),p(c,u+"s_n",n[a],0,s),p(c,u+"p_t",i,0,s),p(c,u+"s_c",encodeURIComponent(o),0,s),Object.defineProperty(document,"referrer",{value:o})}(o.substring(r+1)),!0}function A(){!A.called&&(A.called=!0,Nanalytics("send","pageview",{customer_id:x,app_unique_id:"96cf4d67693d4ebb838fcfeaed146969",chatbot_talk:((u?localStorage.getItem(o):l(o))||0).toString()}))}function E(e){if(_(f,e.origin.replace("https://","").replace("http://",""))&&e.data&&e.data.type){if("ask_user_id"===e.data.type){var t=$(),n=b("",t);e.source.postMessage({type:"send_user_id",payload:{url:n}},e.origin)}else if("send_user_id"===e.data.type){var r=e.data.payload.url;r&&(N(r),A())}}}var I="1";return"1"==I&&(m(document,"mousedown",w,!1),m(document,"keyup",w,!1),window.addEventListener("message",E,!1),N(window.location.search)||(d=!!window.opener)),Nanalytics("setup","NA-201",new Date().getTime()),Nanalytics("config","itp_recovery",!0),d?(window.opener&&window.opener.postMessage({type:"ask_user_id"},"*"),setTimeout(A,1e3)):A(),{getUrl:function(e){var t=document.createElement("a");return t.href=e,O(t),t.href}}}();</script>
    <script src="https://synaliofaq.stg.resola.net/analytics/js/96cf4d67693d4ebb838fcfeaed146969/" type="text/javascript"></script>
    </head>
<body>
    <div id="divtitle"><H1>JP STG Site PEP FAQ</H1>
    <hr>
    Hello world, This is only for <font color="red">STG SYNALIO V2 FAQ</font>!
    <br>
    <h3>AUTOMATION Test - Scenario V2 and New Design Chat Bot</h3>
    <h4> FOR CHAT WINDOW Appearance Setting Test</h4>
    </div>
    <div class="togglebutton">
      <input type="button" onclick="synalio.toggle(0)" id="togglebutton" value="TOGGLEボタン"></input>
    </div>
    <div id='campaign'>
      <script src="https://synaliofaq.stg.resola.net/api/campaignjs/96cf4d67693d4ebb838fcfeaed146969" type="text/javascript"></script>
    </div>
    <div class="indexarea">
      <section>
          <h2 id="index1">viewportとは？</h2>
            <p>viewport（ビューポート）とは、一言でいうと、表示領域のことです。<span class="bold">今このページを見ている範囲がviewportです。</span>正確に言うと、HTMLファイルのheadタグ内に記述するmeta要素のname属性値を指します。</p>
            <p>WEBサイトの制作者は、meta要素のviewportで指定することで、PC・モバイルなどの表示領域を指定できます。</p>
            <p>実際に指定するときは、head要素内にmeta要素のname属性を「viewport」と記述します。</p>
            <p>viewportは、Google推奨のレスポンシブWEBデザイン適用時には、必要不可欠のhtmlタグです。</p>
            <p>ユーザーがサイトを訪れた際、「このサイト見づらいな」と感じたら、自然とサイトを閉じてしまうことでしょう。</p>
            <p>viewportは、サイトのファーストインプレッションを決める重要な役割を果たします。ユーザーに直接見えない部分ではありますが、正しく設定し、見やすいサイトを構築していきましょう。</p>
          </section>
      <section>
          <h2 id="index2">HTMLのmeta viewportの正しい設定とその意味</h2>
            <blockquote><p>&lt;head&gt;<br>
                &lt;meta name=”viewport” content=”width=device-width,initial-scale=1″&gt;<br>
                &lt;/head&gt;</p></blockquote>
                <p>Googleは、現時点でこちらの記述を推奨しています。表示領域の幅を指定する方法もありますが、現在は端末画面の幅に合わせることを推奨しています。</p>
                <p>「width=device-width」を記述することで、表示領域の幅を、PCやスマホなどの端末画面の幅に合わせられます。</p>
                <p>また、「initial-scale=1」は初期のズーム倍率を表します。1に設定することで、初めに表示された時の違和感をなくします。</p>
                <p>これらの設定にすることで、どのデバイスでも表示領域が合わせられ、ズームの倍率もページ全てが見える癖のない初期ズーム倍率になります。</p>
                <p>したがって、この記述が一番問題が起こりにくい、最新の内容と言えます。</p>
                <blockquote><p>&lt;head&gt;<br>
                  &lt;meta name=”viewport” content=”width=320″&gt;<br>
                  &lt;/head&gt;</p></blockquote>
                <p>また、応急措置として、上記のように特定の幅に設定する方法もあります。表示がうまくいかない時などには有効ですが、こちらはGoogle非推奨の方法です。</p>
                <p>先ほどの「width=device-width」とは違って、どのサイズの画面でも同じサイズの表示になります。</p>
                <p>つまり、大きな画面で見たときには余白が生まれてしまい、小さな画面だと見切れる領域が生まれることがあります。</p>
          </section>
      <section>
          <h2 id="index3">メディアクエリを指定している場合のviewportの正しい設定は？</h2>
            <blockquote><p>&lt;head&gt;<br>
              &lt;meta name=”viewport” content=”width=device-width,initial-scale=1″&gt;<br>
              &lt;/head&gt;</p></blockquote>
            <p>メディアクエリとは、レスポンシブWEBデザインを作るときに必要な要素です。</p>
            <p>メディアクエリを指定している時のviewportの設定も、上記の形で問題ありません。この形であれば、基本的に立ち上げているブラウザ・デバイスの横幅に指定されます。</p>
          </section>
      <section>
          <h2 id="index4">viewportで設定可能な要素</h2>
            <p>ここからは、viewportで設定可能な要素を説明します。</p>
            <p>以下で説明する要素を理解することで、より見やすいサイト設計ができるようになります。</p>
          </section>
      <section>
          <h3 id="index5">width（横幅）</h3>
            <p>widthは、表示領域の幅を決めるプロパティです。「device-width」を指定すると、端末の幅に合わせられます。</p>
            <p>設定は、200〜1万の間で可能です。一般的には、980がデフォルトといわれていますが、例外もあるので、必ず確認するようにしましょう。</p>
            <p>widthを指定するときは、親要素の幅を子要素がはみ出ないようにしましょう。</p>
            <p><em class="isActive">この設定にしてしまうと、ページの領域を超えて無駄な要素が広がってしまうので、レイアウトが崩れてしまう可能性があります。</em></p>
            <p>また、widthは最大と最小の指定ができます。</p>
            <p>最小幅をmin-width、最大幅をmax-widthで指定します。</p>
            <p>min-widthは、これ以上小さくならないように設定ができるので、widthを％で指定した時などにセットで使うと効果を発揮します。</p>
            <p>これは、「PCではちょうどいいけど、スマホで見るときには小さい」といった問題を解決できます。</p>
            <p>一方、max-widthはこれ以上大きくならない幅を指定できます。「スマートフォンではちょうどいいけれど、PCで見るときには小さすぎる」といった問題を解決してくれます。</p>
          </section>
      <section>
          <h3 id="index6">height（縦幅）</h3>
            <p>heightは、表示領域の高さを指定するプロパティです。</p>
            <p>デフォルト時の表示は、widthと端末のアスペクト比から自動算出されます。pxで指定するときは、233〜1万の間で設定することができます。</p>
          </section>
      <section>
          <h3 id="index7">initial-scale （初期倍率）</h3>
            <p>initial-scaleは、ページロードした時の倍率を指します。minimum-scale〜maximum-scaleで指定可能で、デフォルトは表示領域にページがフィットするよう、自動算出されるようになっています。</p>
            <p>initial-scaleを指定しない場合は、initial-scale＝1となります。</p>
          </section>
      <section>
          <h3 id="index8">maximum-scale（最大倍率）とminimum-scale（最小倍率）</h3>
            <p>maximum-scaleは最大拡大倍率、minimum-scaleは最小縮小倍率を示しています。</p>
            <p>これらを指定することで、拡大・縮小した時の上限・下限を設定できます。</p>
            <p>maximum-scaleのデフォルトは5.0で、minimum-scaleのデフォルトは0.25になります。</p>
            <p>なお、initial-scaleとminimum-scaleは、同時に設定できないようになっています。その理由は、設定してしまうと縮小できなくなってしまうからです。</p>
          </section>
      <section>
          <h3 id="index9">user-scalable （ズーム操作の可否）</h3>
          <p>user-scalableは、ユーザーがズームできるかを指定できる要素です。デフォルトはuser-scalable=yesになっており、yesで許可、no（または0）でズームができないよう指定できます。</p>
        </section>
      <section>
          <h2 id="index10">viewportが効かない原因と対策</h2>
          <p>viewportが機能しない原因は、主に「viewportのタグや記載場所の誤り」「メディアクエリの記述ミス」「キャッシュが残っている」といったことが、考えられます。</p>
          <p>基本的に、以下に書かれている対策をすれば解決できるので、ぜひ試してみてください。</p>
        </section>
      <section>
          <h3 id="index11">viewportのタグや記載場所に誤りがある</h3>
          <blockquote><p>&lt;head&gt;<br>
            &lt;meta name=”viewport” content=”width=device-width,initial-scale=1″&gt;<br>
            &lt;/head&gt;</p></blockquote>
          <p>viewportは、&lt;head&gt;と&lt;/head&gt;の間に記載しなければ、機能しません。</p>
          <p>headタグの中には、WEBページのさまざまな情報や設定を書きます。タグ内の情報は、サイトに直接表示されるものではありません。</p>
          <p>あくまでも、サイト内の設定を作るためのタグだということを覚えておきましょう。</p>
          <p>Googleは、width=device-widthを推奨しています。では、widthに値を入れると、どのようなことが起こるでしょう。</p>
          <p>widthに値を入力してしまうと、初期の横幅が指定されてしまうため、Google推奨のレスポンシブWEBデザインができません。</p>
          <p>また、initial-scale=2.0とした場合は、初期倍率が2倍に設定されてしまうため、サイト全体を閲覧できていない状態になってしまいます。</p>
          <p>viewportのタグは、正しい場所に記載するようにしましょう。</p>
        </section>
      <section>
          <h3 id="index12">メディアクエリの記述にミスがある</h3>
          <p>メディアクエリの記述にミスがあると、正しく表示されない可能性があります。</p>
          <p>例えば、「@media screen and (max–width: 479px)」というCSSがあり、どこかに余計な半角スペースや誤字脱字があったとします。</p>
          <p>このような小さなミスがあるだけで、viewportは表示されなくなる可能性があります。</p>
          <p>基本的にGoogle推奨のレスポンシブwebデザインであれば問題ないので、特別なことは求められません。</p>
          <p>したがって、メディアクエリの書き方を紹介しているサイトからコピペして数値だけ変えるなど、ミスの少ない方法で対応するようにしましょう。</p>
        </section>
      <section id="chatbot">
          <h3 id="index13">キャッシュの消去</h3>
          <p>CSSの記述に誤字脱字、文法の間違いなどがあると、指示が通らないことがあります。また、間違いがないにもかかわらず、CSSが反映されないケースがあります。</p>
          <p>このような場合、ブラウザのキャッシュデータを更新できていないことが原因として考えられます。</p>
          <p>キャッシュとは、過去に閲覧したWEBサイトのデータやファイルデータを一時保存し、ブラウザに再表示させる機能のことです。</p>
          <p>WEBサイトを最新の状態でブラウザに表示させるには、キャッシュを常に最新状態にしておく必要があります。</p>
          <p>viewportがうまく機能しない場合は、キャッシュを削除してみましょう。</p>
          <p>Google Chromeの場合は、「Shiftキー＋ブラウザの再読み込みボタン」で削除できます。</p>
          <p>Macの場合は、「Shift＋command＋r」で削除できます。</p>
        </section>
      <section>
          <h2 id="index14">まとめ</h2>
          <p>今回は、「viewportとは何か」「HTMLのmeta要素の正しい書き方と意味」を解説していきました。</p>
          <p>viewportを正しく機能させることで、ユーザーがわかりやすいサイトを作ることができます。</p>
          <p>サイトを作っているときにわからなくなってしまったら、こちらのページを参考にしてみてください。</p>
        </section>
  </div>
</body>
</html>
